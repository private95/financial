package com.iparhan.financial.dao;

import java.util.List;

import org.apache.ibatis.annotations.Delete;
import org.apache.ibatis.annotations.Insert;
import org.apache.ibatis.annotations.Mapper;
import org.apache.ibatis.annotations.Param;
import org.apache.ibatis.annotations.Select;

import com.iparhan.financial.entity.Company;
import com.iparhan.financial.entity.CompanyTwo;
import com.iparhan.financial.entity.PrivateStock;

@Mapper
public interface CompanyTwoMapper {

	/*
	 * 发布信息企业信息插入
	 */
	@Insert("insert into t__spi_company (name,personName,capitalMoney,address,recordCode,establishTime,production,idea_company,tuser_id) values(#{name},#{personName},#{capitalMoney},#{address},#{recordCode},#{establishTime},#{production},#{idea_company},#{tuser_id})")
	void insertCompany(@Param("name") String name, @Param("productsNumber") String productsNumber,
			@Param("personName") String personName, @Param("capitalMoney") String capitalMoney,
			@Param("address") String address, @Param("recordCode") String recordCode,
			@Param("establishTime") String establishTime, @Param("production") String production,
			@Param("idea_company") String idea_company, @Param("tuser_id") Integer tuser_id);

	/**
	 * 用户手动插入的企业信息
	 * 
	 * @param companyTwo
	 * @return
	 */
	@Select("SELECT * FROM t_company")
	List<CompanyTwo> companysDelete();

	// =============================================================

	// 企业信息==了解详情
	@Select("SELECT * FROM `t__spi_company` WHERE id=#{id}")
	public Company getAllCompany(int id);

	// 根据查询的用户ID去查询该id发布的信息
	// 查询当前用户发布的信息
	@Select("SELECT t__spi_company.*,t_user.* FROM t__spi_company LEFT JOIN t_user ON t__spi_company.tuser_id=t_user.id WHERE t_user.id=#{id}")
	public List<Company> getCompantTwoById(String id);

	// 首页为您提供最新企业信息 查询所有企业信息的信息，按照降序排序 只显示最新的8条数据
	@Select("SELECT * FROM t__spi_company ORDER BY establishTime DESC LIMIT 6")
	public List<Company> getAllComByCumid();

	// 根据id删除用户发布过的信息
	@Delete("DELETE FROM t_company WHERE id = #{id}")
	int deleteCompany(@Param("id") String id);

	// 首页条件查询---基金名称 按照创建时间降序排列
	@Select("SELECT * FROM `t__spi_privatestock` ORDER BY establishTime DESC")
	public List<PrivateStock> getProduction();

	// 首页条件查询---基金公司 按照创建时间降序排列
	@Select("SELECT * FROM `t__spi_privatestock` ORDER BY establishTime DESC")
	public List<PrivateStock> getProduction2();

	// 首页条件查询---最新净值 按照最新净值排列
	@Select("SELECT * FROM `t__spi_privatestock` ORDER BY nav DESC")
	public List<PrivateStock> getProduction3();

	// 首页条件查询---累计收益 按照累计收益降序排列
	@Select("SELECT * FROM `t__spi_privatestock` ORDER BY cumulativeincome DESC")
	public List<PrivateStock> getProduction4();

	// 首页条件查询---年化收益 按照年化收益降序排列
	@Select("SELECT * FROM `t__spi_privatestock` ORDER BY `annualized` DESC")
	public List<PrivateStock> getProduction5();

	// 首页条件查询---风险等级 按照风险等级降序排列
	@Select("SELECT * FROM `t__spi_privatestock` ORDER BY riskgrade DESC")
	public List<PrivateStock> getProduction6();

}
